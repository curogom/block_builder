# docs 문서 비교 리뷰 – 합리적 접근 제안

## 목적
- docs/DEV_PLAN.md와 docs/roadmap.md 두 문서의 접근법을 비교·분석하여, 현재 리포 상태와 README 스펙(Web 우선, Standalone) 기준으로 더 합리적인 실행 기준을 제안합니다.

## 비교 요약
- 종합 판단: DEV_PLAN.md를 기본 기준으로 채택하고, roadmap.md의 세부 작업 분해/1주 계획만 보완 요소로 통합하는 것이 가장 합리적입니다.
- 이유: DEV_PLAN은 스펙 정합성, 웹 제품화(메타/OG/배포)와 리스크 관리, 결정 포인트 정리가 명확해 “출시 가능한 웹 빌드”까지 일관된 가이드를 제공합니다. roadmap은 시간 산정과 페이즈 분해가 촘촘해 실행에 도움이 되며, 이를 DEV_PLAN 흐름에 흡수하면 균형이 좋아집니다.

## 상세 비교
- 스펙 정합성
  - DEV_PLAN: README의 제약(저장/네트워크 없음, Web 우선)을 일관 반영. `--web-renderer canvaskit`, 정적 호스팅까지 명시.
  - roadmap: 핵심 스펙 부합. 다만 폴리싱에 “배경음악, 로딩 화면” 등 비핵심 항목 포함(스펙 위반은 아님, 우선순위 조정 필요).
- 범위/스코프 관리
  - DEV_PLAN: 비범위(계정/랭킹/서버 등)와 오픈 이슈(상태관리 선택, 점수 배율, 패럴랙스 강도 등) 명시적 구분 → 스코프 크립 방지에 유리.
  - roadmap: 명확한 단계/작업목록 제공이나 범위 경계·의사결정 포인트 표기는 상대적으로 약함.
- 공수/일정 현실성
  - DEV_PLAN: 보수적 8–12일(1인) + 버퍼 15–20% → 위험 흡수 용이. 제품화 태스크(튜토리얼/메타/배포) 포함.
  - roadmap: 40–50시간(주니어 기준). 코어 구현 중심의 낙관적 추정에 가까우며 제품화/배포는 간략.
- 리스크/품질 관리
  - DEV_PLAN: 버전 호환, 오디오 정책, 반응형/성능 리스크와 대응 택틱 제시.
  - roadmap: 난이도 평정이 상세(특히 트리밍/카메라/성능) → 구현 우선순위와 난이도 인지에 도움.
- 배포/웹 제품화
  - DEV_PLAN: 파비콘/메타/OG/빌드 커맨드/정적 호스팅 경로까지 포함 → “보이는 결과물” 제공에 직결.
  - roadmap: 웹 최적화·반응형·로딩 화면 언급은 있음, 메타/OG/배포 가이드는 상대적으로 부족.

## 결론/추천
- 기준 문서: DEV_PLAN.md
- 보완 요소: roadmap.md의 세부 작업 분해를 DEV_PLAN 실행 섹션에 병합.
- 우선순위: MVP(이동/드랍/트리밍/타이머/게임오버/카메라/HUD) → 폴리싱(콤보/정밀/이펙트/난이도) → 제품화(튜토리얼/메타/배포). roadmap의 BGM/로딩 화면은 “선택/후순위”.

## 결정 업데이트(요청 반영)
- 전략: 두 문서를 병행 적용하며, Day 7 분할 없이 “1-Day 스프린트”로 완료를 목표.
- 취지: Codex 환경에서 병렬화·시간박스로 집중 구현하여 웹 실행물까지 당일 산출.

## 1-Day 실행 플랜(시간박스)
- 0:00–0:30 정렬/환경 점검: README 합의, `flutter --version` 확인, 크롬 타겟 준비
- 0:30–1:30 의존성·스캐폴드: `flutter pub add flame flame_audio`, `lib/game/*`·`assets/` 생성, CanvasKit 설정
- 1:30–4:00 코어 메카닉: `StackGame` 루프, 이동 블록 왕복, 탭 드랍, 착지 콜백, AABB 트리밍(오버랩=0 → 게임오버), 스택/높이
- 4:00–5:30 시스템/HUD: 타이머(180→0, 30초 경고), 점수/정밀/콤보, 상단 HUD 오버레이
- 5:30–6:30 카메라/피드백: 상단 추적 카메라, 파편 파티클 기본, 드랍/충돌/경고/오버 사운드 트리거
- 6:30–7:30 웹 제품화: 파비콘/메타/OG, `flutter build web --web-renderer canvaskit`, 브라우저 스모크 테스트
- 7:30–8:00 마감/튜닝: 난이도 상한(380px/s) 확인, 성능 가드레일(파티클 상한), 릴리스 노트 초안

## 병렬화 팁(1인 기준 동시화)
- 의존성 설치 중: 디렉토리/템플릿 파일 작성, 메타/파비콘 초안 준비
- 자산 복사 중: 트리밍·점수 로직 구현 지속, HUD 와이어프레임 우선
- 빌드 중: README/DEV_PLAN에 완료 체크 반영, 배포 대상 선택 확정

## 컷라인(시간 초과 시 최소 산출물)
- 포함: 이동/드랍/트리밍/게임오버/타이머/HUD/카메라 + 드랍/충돌 사운드 2종 + 간단 파편
- 제외 가능: 콤보/정밀 팝업 연출, 패럴랙스, BGM, 로딩 화면(차주 이월)

## 검증 기준(스모크 체크)
- 트리밍: 경계값(정확 정렬/한 픽셀 오프셋) 통과, 오버랩=0 즉시 게임오버
- 난이도: 층당 2% 속도 증가, 380px/s 상한 적용
- 타이머: 180→0, 30초 경고 사운드/시각 경고 노출
- 카메라/HUD: 상단 추적 안정, 점수·타이머 고정 표시
- 웹: Chrome 최신에서 60fps 근접, 최초 입력 후 오디오 정상 재생

## 리스크 신속 대응
- Flame/Flutter 버전 충돌: 버전 고정 후 최소 샘플 실행 → 코어 구현 착수
- 오디오 정책 차단: 첫 탭 이후 사운드 활성화, 초기 mute 토글 제공
- 성능: 파티클·드로우콜 상한, 필요 시 저사양 토글(파티클/이펙트 축소)

## 보완·통합 제안
- 실행 구조(DEV_PLAN 기준 + roadmap 세분화)
  1) 환경/스캐폴드(0.5–1일): flame/flame_audio, `lib/game/*`, `assets/`, CanvasKit, 기본 FlameGame 기동
  2) 핵심 메카닉(2–3일): Block 이동/드랍, 착지 이벤트, 트리밍(AABB 오버랩 0 즉시 게임오버), 스택/높이
  3) 시스템(1–1.5일): 타이머 180s + 30s 경고, 점수/정밀/콤보, 난이도(2%/층, 상한 380px/s, 미세 오프셋)
  4) UI/카메라(0.5–1일): HUD, 카메라 상단 추적, 반응형 체크
  5) 폴리싱(2–3일): 파편/보너스 팝업, 패럴랙스, 사운드(드랍/충돌/콤보/경고/오버). BGM/로딩 화면은 선택
  6) 제품화(1.5–2일): 튜토리얼/힌트, 파비콘/메타/OG, 빌드/배포 스크립트, 브라우저 스모크 테스트
- 체크리스트 강화
  - 단위 테스트: 트리밍 경계값(오버랩=0/정밀 스냅), 속도 상한, 콤보 리셋 조건
  - 성능 가드레일: 파티클 상한, 드로우콜 점검, 저사양 토글
  - 오디오 정책: 사용자 입력 후 활성화, 초기 mute 토글
- 의사결정 고정(초기 합의 권장)
  - 상태관리: MVP=경량(ValueNotifier) → 필요 시 Riverpod 도입
  - 스코어 공식: 정밀 보너스 배율/콤보 스택 규칙 수치화
  - 웹 렌더러: 기본 CanvasKit, 저사양 모드 고려

## 다음 액션(권장)
1) DEV_PLAN에 “roadmap의 Day 1–7 계획”을 부록으로 병합
2) 의존성 추가와 디렉토리 스캐폴드 즉시 적용
3) MVP 기능 착수 후 1차 웹 빌드로 성능·호환 스모크 테스트

*비고: 위 제안은 README 스펙을 기준으로 하며, 팀 숙련도에 따라 roadmap의 시간 추정은 상향 조정될 수 있습니다.*
